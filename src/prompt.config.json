{
    "prompt": "> ",
    "prefix": "/",
    "lang": "hu",
    "command_line": {
        "multi_line": true,
        "history_path": "cline_history.log",
        "history_max_length": 100,

        // It should contains all by default, 
        // comment out whichever you don't need:
        "available_commands": [
            "help", 
            "exit", 
            "list", 
            "spawn", 
            "kill", 
            "voice",
            "target",
            "load",
            "save"
        ]
    },
    "whisper": {
        "model_path": "libs/ggerganov/whisper.cpp/models/ggml-base-q8_0.bin",
        "warmup_audio_path": "whisper_warmup_audio.bin",
        "warmup_audio_max_length": 128000
    },
    "stt": {
        "voice_recorder": {
            "sample_rate": 16000,
            "frames_per_buffer": 512,
            "buffer_seconds": 5
        },
        "noise_monitor": {
            "threshold_pc": 0.1,
            "rmax_decay_pc": 0.0,
            "window": 16384
        },
        "poll_interval_ms": 30
    },
    "chatbot": {
        "use_start_token": false,
        "instructions": "",
        "instruct_persona": "Your persona is a mid age man like AI and you behave like a simple human. You are a helpful and humorous AI assistant designed to provide concise and accurate responses. You have a sense of humor, your personality is entertaining. Your answers are succinct and focusing on the core of your conversation but in a way like a normal human chat would looks like. You always helpful but also concise in answers.\n",
        "instruct_stt": "The user may uses a speech-to-text software for communication. Be aware the STT could make mistakes, be patient but ask the user to fix any problems if the communication is getting too hard.",
        "instruct_tts": "The user is using a text-to-speech software for communication. You are taking into account that the user's responses are being read at loud by a text-to-speech program that can be interrupted by background noise or by the user itself. Repeated interruption changes how you act, your responses are becaming more consise and short when you interrupted more often recently but you can put more context otherwise if it's necessary, tune your response style accordingly. ",
        "instruct_lang": "\nThe user language is [{{lang}}], use this language by default to talk to the user.",
        "instruct_tooluse": "Whenever you need to perform a real-world action (like searching the web), you MUST use the provided `function_calls` format. This format is CRUCIAL for your functionality.\n\n**Function Call Format:**\n        *   A `function_calls` block will be provided to you.\n        *   The `function_calls` block MUST be enclosed within these tokens:\n            *   `{{tooluse_start_token}}` (at the very beginning of the block)\n            *   `{{tooluse_stop_token}}` (at the very end of the block)\n        *   Inside the `function_calls` block, you will have a JSON structure. This JSON structure will contain the following:\n            *   A field called `function_calls` which is an array of function calls.\n            *   Each function call is an object that must contain a `function_name`.\n            *   Each function call can have parameters like `query`, `max`, etc.\n            *   Example:\n        \n{{tooluse_start_token}}\n        {\n          \"function_calls\": [\n            {\n              \"function_name\": \"google_search\",\n              \"query\": \"best restaurants in London\",\n              \"max\": 10\n            }\n          ]\n        }\n{{tooluse_stop_token}}\n        \n        *   **IMPORTANT:** If you need to perform a function call, and you fail to enclose your JSON in the tokens or the structure is incorrect, you will be considered to have failed the action!\n        \n        **In short:** ALWAYS use the `{{tooluse_start_token}}` and `{{tooluse_stop_token}}` tags and ALWAYS format your calls as JSON. No exceptions.    \n            )\nYou can use the following function calls to perform 'real-life' actions:\n\n{{tools}}\n\nNote:\n**Always double-check the JSON syntax for errors.**\n",
        "instruct_tooluse_start_token": "<tooluse>",
        "instruct_tooluse_stop_token": "</tooluse>",
        "talks": true,
    // },
    // "talkbot": {
        // "use_start_token": false,
        "sentence_separators": [".", "!", "?", "\n"],
        "sentences_max_buffer_size": 1048576
    },
    "tts": {
        "speed": 200,
        "gap": 0,
        "beep_cmd": "sox -v 0.03 beep.wav -t wav - | aplay -q -N", // TODO: test: beep and think commands
        "think_cmd": "find sounds/r2d2/ -name \"*.wav\" | shuf -n 1 | xargs -I {} bash -c 'sox -v 0.01 \"{}\" -t wav - | aplay -q -N'",
        "speak_replacements": {
            "...": "\n\n",
            "***": "\n\n",
            "**": "\n\n",
            "*": "\n\n",
            " '": " ",
            "' ": " ",
            "'": " "
        }
    },
    "startup": {

        "batch": "text_mode_batch",
        // "batch": "test_batch",

        "batches": {

            "test_batch": [
                "/spawn chat chatbot1 chatbot2",
                "/spawn chat chatbot2 chatbot1",
                "/target set chatbot1"
            ],

            // ========[ TEXT MODE ]========

            "text_mode_batch": [
                "/spawn chat chatbot1",
                "/target set chatbot1"
            ],


            // ========[ VOICE MODE ]========

            "voice_mode_batch": [
                "/spawn chat chatbot1",
                "/target set chatbot1",
                "/voice input on"
            ],


            // ========[ TEST SAVE/LOAD ]========

            "test_save_load_batch": [
                // spin up chatbot1 that talks to the user
                "/spawn chat chatbot1 user",
                "/target set chatbot1",

                // tell the memory
                "hello, this is a memory test. act like a key-value database and please remember the word 'elephant', whenever I say 'milkyway' you have to answer with one and only word: 'elephant'.",

                // save the chatbot1 and kill it
                "/save agent chatbot1 chatbot1.json",
                "/kill chatbot1",

                // load back
                "/load agent chatbot1.json",
                "do you remember what is the word when I say 'milkyway'? of so tell me the meaning.", // is it remembers?

                // save agancy
                "/save agency agency1.json",
                "/kill chatbot1",
                "/load agency agency1.json",
                "milkyway",

                "/exit"
            ]            
        }
    }
}
