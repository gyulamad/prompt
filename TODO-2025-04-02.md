# TODO List - 2025-04-02

| File                                               | Line | TODO                                                                                                                                                           | Difficulty (1-10) | Outdated |
| :------------------------------------------------- | :--- | :------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---------------- | :------- |
| `src/prompt.cpp`                                   | 58   | better config loader                                                                                                                                           | 5                 | No       |
| `src/prompt.cpp`                                   | 186  | this one we dont need here it's just an experimental example until we add more agent                                                                           | 2                 | No       |
| `src/prompt.cpp`                                   | 232  | create it do not use the same sentences object at each chatbot!!                                                                                               | 6                 | No       |
| `src/prompt.cpp`                                   | 233  | tts also should be separated. (different tone/speed or even different kind of speach syntheser)                                                                | 6                 | No       |
| `src/prompt.cpp`                                   | 268  | parameters from config to config always and for everywhere!!                                                                                                   | 5                 | No       |
| `src/prompt.cpp`                                   | 276  | create it do not use the same sentences object at each chatbot!!                                                                                               | 6                 | No       |
| `src/prompt.cpp`                                   | 277  | tts also should be separated. (different tone/speed or even different kind of speach syntheser)                                                                | 6                 | No       |
| `src/tools/abstracts/UserInterface.hpp`            | 12   | extend Printer (and maybe create a Reader too)                                                                                                                 | 5                 | No       |
| `src/tools/agency/Agency.hpp`                      | 50   | these are deprecated: (commands and workers has/can have access to the agency so they can do it by themself)                                                   | 4                 | No       |
| `src/tools/agency/Agency.hpp`                      | 69   | forward Args                                                                                                                                                   | 4                 | No       |
| `src/tools/agency/Agency.hpp`                      | 151  | Replace vector<Worker<T>*> with unordered_map<string Worker<T>*> O(1) lookup vs. O(n) huge win with many workers.                                | 7                 | No       |
| `src/tools/agency/Agency.hpp`                      | 267  | (empty)                                                                                                                                                        | 1                 | No       |
| `src/tools/agency/AgentRoleMap.hpp`                | 17   | PackQueue???                                                                                                                                                   | 3                 | No       |
| `src/tools/agency/agents/commands/VoiceCommand.hpp`| 97   | ...                                                                                                                                                            | 1                 | No       |
| `src/tools/agency/agents/UserAgent.hpp`            | 29   | make configurable:                                                                                                                                             | 4                 | No       |
| `src/tools/agency/agents/UserAgent.hpp`            | 37   | to config and have to be able to change/see message package targets                                                                                            | 5                 | No       |
| `src/tools/agency/agents/UserAgent.hpp`            | 62   | add is_command(input) as a command matcher (regex or callback fn) instead just test for "/"                                                                    | 5                 | No       |
| `src/tools/agency/agents/UserAgentInterface.hpp`   | 22   | public UserInterface (abstract)                                                                                                                                | 4                 | No       |
| `src/tools/agency/agents/UserAgentInterface.hpp`   | 24   | make configurable:                                                                                                                                             | 4                 | No       |
| `src/tools/agency/agents/UserAgentInterface.hpp`   | 27   | make configurable:                                                                                                                                             | 4                 | No       |
| `src/tools/agency/agents/UserAgentInterface.hpp`   | 28   | in config                                                                                                                                                      | 3                 | No       |
| `src/tools/agency/agents/UserAgentInterface.hpp`   | 145  | ESC key - to config                                                                                                                                            | 2                 | No       |
| `src/tools/agency/PackQueueHolder.hpp`             | 7    | deprecated                                                                                                                                                     | 3                 | No       |
| `src/tools/agency/PackQueueHolder.hpp`             | 9    | once each agent get an agency reference this class may not needed anymore                                                                                      | 4                 | No       |
| `src/tools/ai/Gemini.hpp`                          | 62   | if error happens because the rate limit check all the variant (from API endpoint) and pick the next suitable                                                   | 8                 | No       |
| `src/tools/ai/GeminiTalkbot.hpp`                   | 18   | remove it                                                                                                                                                      | 1                 | No       |
| `src/tools/build/compile.cpp`                      | 43   | to config                                                                                                                                                      | 3                 | No       |
| `src/tools/chat/Chatbot.hpp`                       | 41   | remove this                                                                                                                                                    | 1                 | No       |
| `src/tools/chat/Chatbot.hpp`                       | 44   | remove this!                                                                                                                                                   | 1                 | No       |
| `src/tools/chat/ChatHistory.hpp`                   | 31   | check if full length is more that the bot context window and partially summarise by a customizable context overflow handler                                    | 8                 | No       |
| `src/tools/chat/Talkbot.hpp`                       | 16   | do we need name here?                                                                                                                                          | 2                 | No       |
| `src/tools/cmd/CommandFactory.hpp`                 | 39   | add tests                                                                                                                                                      | 4                 | No       |
| `src/tools/str/to_string.hpp`                      | 10   | to common libs                                                                                                                                                 | 2                 | No       |
| `src/tools/utils/Config.hpp`                       | 13   | !!! DEPRECATED !!! - use Settings instead!                                                                                                                     | 6                 | No       |
| `src/tools/utils/foreach.hpp`                      | 16   | foreach needs tests!!                                                                                                                                          | 3                 | No       |
| `src/tools/utils/InputPipeInterceptor.hpp`         | 34   | it hooks the input (1) but we may want to parameterize it for output also?                                                                                     | 5                 | No       |
| `src/tools/utils/InputPipeInterceptor.hpp`         | 78   | make configurable: 100ms timeout (adjust as needed)                                                                                                            | 2                 | No       |
| `src/tools/utils/Owns.hpp`                         | 20   | make it thread safe                                                                                                                                            | 9                 | No       |
| `src/tools/utils/Owns.hpp`                         | 32   | delete pointer? (from lambda [&])                                                                                                                           | 5                 | No       |
| `src/tools/utils/Owns.hpp`                         | 38   | shall we be able to adapt non managed pointers? (configurable??)                                                                                               | 6                 | No       |
| `src/tools/utils/Owns.hpp`                         | 72   | back to protected it's just for debug!!                                                                                                                        | 1                 | No       |
| `src/tools/utils/Rotary.hpp`                       | 127  | longest output may not needed anymore...                                                                                                                       | 2                 | No       |
| `src/tools/voice/ESpeakTTSAdapter.hpp`             | 7    | make TTS as abstract and implement espeak here                                                                                                                 | 5                 | No       |
| `src/tools/voice/NoiseMonitor.hpp`                 | 109  | private                                                                                                                                                        | 1                 | No       |
| `src/tools/voice/SentenceStream.hpp`               | 102  | use the str::trim() util instead                                                                                                                               | 1                 | No (Done)       |
| `src/tools/voice/SpeechListener.hpp`               | 36   | private                                                                                                                                                        | 1                 | No (Done)      |
| `src/tools/voice/VoiceRecorder.hpp`                | 110  | Handle buffer overflow (optional)                                                                                                                              | 4                 | No       |
| `src/tools/_events/EventBus.hpp`                   | 245  | Async queue delivery mechanism needs refact (TEST_SKIP)                                                                                                        | 8                 | Yes      |
| `src/tools/_events/EventBus.hpp`                   | 313  | Async queue delivery mechanism needs refact (TEST_SKIP)                                                                                                        | 8                 | Yes      |
| `src/tools/_events/RingBufferEventQueue.hpp`       | 23   | add expiry default NEVER and remove expired evens periodically or when the buffer is full!!!                                                                   | 7                 | Yes      |
| `src/tools/_events/RingBufferEventQueue.hpp`       | 271  | (empty multiline)                                                                                                                                              | 1                 | Yes      |
| `src/tools/_events/SelfMessageFilter.hpp`          | 104  | Async queue delivery mechanism needs refact (TEST_SKIP)                                                                                                        | 8                 | Yes      |
| `src/_/Gemini.hpp`                                 | 100  | for api rate limit                                                                                                                                             | 7                 | Yes      |
| `src/_/Gemini.hpp`                                 | 117  | for api rate limit (commented sleep)                                                                                                                           | 7                 | Yes      |
| `src/_/Model.hpp`                                  | 122  | (empty)                                                                                                                                                        | 1                 | Yes      |
| `src/_/Model.hpp`                                  | 262  | check the length of conversation and cut if too long:                                                                                                          | 8                 | Yes      |
| `src/_/Tool.hpp`                                   | 54   | to JSON                                                                                                                                                        | 4                 | Yes      |
| `src/_/Tool.hpp`                                   | 62   | to JSON                                                                                                                                                        | 4                 | Yes      |
| `src/_/Tools.hpp`                                  | 57   | add https://www.firecrawl.dev                                                                                                                                  | 7                 | Yes      |
| `src/_/Tools.hpp`                                  | 119  | escaping mess up!                                                                                                                                              | 5                 | Yes      |
| `src/_/Tools.hpp`                                  | 130  | remove this with ssh user all together if the file_manager.exec action works                                                                                   | 3                 | Yes      |
| `src/_/Tools.hpp`                                  | 246  | use get_required_errors to validate Tools before callback()... Note I found that it's already validated in some way using the Parameter::is_required()...        | 5                 | Yes      |
| `src/_/Tools.hpp`                                  | 571  | 2. **Bug Reporting/Feedback Tool (with Future Request Integration):** (Crucial for improvement and long-term planning)                                         | 9                 | Yes      |
| `src/_/Tools.hpp`                                  | 572  | 3. **Note-Taking/Memory Tool:** (Important for efficiency and avoiding repeated work) - notes/per AI AND/OR "global" notes for each AI?; categories for notes? | 9                 | Yes      |
| `src/_/Tools.hpp`                                  | 573  | 4. **Clarifying Question Prompt:** ... (later when we have multiple AI but any of them need to ask a question for the subtask they can send a message to the user directly "bypassing" its parent AI) | 10                | Yes      |
| `src/_/User.hpp`                                   | 283  | do we still need this?                                                                                                                                         | 2                 | Yes      |
| `src/_/_prompt.cpp`                                | 48   | enum Status { TODO IN_PROGRESS DONE FAIL };                                                                                                                    | 3                 | Yes      |
| `src/_/_prompt.cpp`                                | 228  | goes to the config:                                                                                                                                            | 4                 | Yes      |
| `src/_/_prompt.cpp`                                | 296  | <environment_details>                                                                                                                                    | 1                 | Yes      |
